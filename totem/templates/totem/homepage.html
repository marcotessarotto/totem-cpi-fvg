
{% load static %}

{% autoescape off %}

<link rel="stylesheet" type="text/css" href="{% static 'totem/style.css' %}" />

<div class="content">
    <h1>MAPPA DEI SERVIZI DEL CENTRO PER L'IMPIEGO</h1>
    <figure class="content">

<!--                <ul class="cf">-->

              <ul class="father cf">
                <ul></ul>
                {% for area in areas %}

                <li class="macro_area num_{{ area.id }}">


                  <a href="#"><span>{{ area.title | striptags }}</span></a>
                  <ul class="sections">

                      {% for content in area.contents %}
                      {% if content.level == 1 %}

                        <li class="section"><a href="content/{{ content.id }}/"><span>{{ content.title | striptags }}</span></a></li>

                      {% endif %}
                      {% endfor %}

                  </ul>
                </li>
                {% endfor %}

              </ul>

    </figure>

</div>

<div>
   <ul class="myul">
      <li style="margin-left:50%; margin-right:50%;"><a href="/map" class="mybtn">MAP</a></li>
   </ul>
</div>


<!--https://stackoverflow.com/questions/7071472/javascript-timeout-when-no-actions-from-user-for-specified-time-->
<script>
    attachEvent(window,'load',function(){

      var idleSeconds = 10;

      var idleTimer;
      function resetTimer(){
        clearTimeout(idleTimer);
        idleTimer = setTimeout(whenUserIdle,idleSeconds*1000);
      }
      attachEvent(document.body,'mousemove',resetTimer);
      attachEvent(document.body,'keydown',resetTimer);
      attachEvent(document.body,'click',resetTimer);

      resetTimer(); // Start the timer when the page loads
    });

    function whenUserIdle(){
      //...CAMBIARE QUI, SPOSTARE SCRIPT SU ALTRE PAGINE E RIMANDARE A HOMEPAGE
      window.location.href = "http://google.com";
    }

    function attachEvent(obj,evt,fnc,useCapture){
      if (obj.addEventListener){
        obj.addEventListener(evt,fnc,!!useCapture);
        return true;
      } else if (obj.attachEvent){
        return obj.attachEvent("on"+evt,fnc);
      }
    }
</script>


{% endautoescape %}

